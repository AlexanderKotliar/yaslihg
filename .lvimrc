let s:path = expand('<sfile>:p:h')
let s:program_to_run_prefix = "qpropertytree-example-"
if has("win32")
	let &makeprg=s:path.'\\build_windows_all.cmd'
else
	let &makeprg=s:path.'/build_linux.sh'
	"let &makeprg=s:path.'/compile_emscripten.sh'
	function! RunProject()
		let s:project_configuration=tolower($VIM_PROJECT_CONFIGURATION)
		if s:project_configuration == ""
			let s:project_configuration="debug"
		endif
		let s:command="!x-terminal-emulator -e 'bash -c ".s:path."/".s:program_to_run_prefix.tolower(s:project_configuration)."\\|\\|read -s -n 1' &"
		execute s:command
	endfunction
	nmap <F5> :call RunProject()<CR>
endif
